<!DOCTYPE html>
<html>
	<body>

		<h2>JavaScript Errors</h2>

		<p>You cannot convert a number to upper case:</p>
		
		<input type="date" id="dateInput" onchange="showDate(this)"/>
		
		<p id="demo"></p>
		<p id="demo1"></p>
		<p id="demo2"></p>

		<script>			
			//https://danieldcs.com/tratamento-de-erros-e-excecoes-em-javascript/
			class CustomError extends Error {
				constructor(message) {
					super(message);
					this.name = 'CustomError';
				}
			}
			
			function showDate(ev){
				try {
					//alllert("dasda");
					data = ev.value;
					console.log(data);

					objDate = new Date(data);
					console.log(objDate);
					if(!(objDate instanceof Date && !isNaN(objDate))) throw new CustomError("Data inv√°lida");
					mes = objDate.getMonth()+1;

					document.getElementById("demo").innerText = data;
					document.getElementById("demo1").innerText = mes;
				} catch(err) {
						document.getElementById("demo").innerText = err.name;	  
					  document.getElementById("demo1").innerText = err.message;	
				} finally {
						document.getElementById("demo2").innerText = "Finalizado";
				}
			}
		</script>

	</body>
</html>
